{
  ArrayList<MediumMovie> tempMovies=new ArrayList<MediumMovie>(shownMovies);
  sections=new Object[tempMovies.size()];
  String SORT_TYPE=settings.getString("prefsSorting","sortTitle");
  if (SORT_TYPE.equals("sortRating")) {
    DecimalFormat df=new DecimalFormat("#.#");
    for (int i=0; i < sections.length; i++)     sections[i]=df.format(tempMovies.get(i).getRawRating());
  }
 else   if (SORT_TYPE.equals("sortWeightedRating")) {
    DecimalFormat df=new DecimalFormat("#.#");
    for (int i=0; i < sections.length; i++)     sections[i]=df.format(tempMovies.get(i).getWeightedRating());
  }
 else {
    for (int i=0; i < sections.length; i++)     if (tempMovies.get(i).getTitle().length() > 0)     sections[i]=tempMovies.get(i).getTitle().substring(0,1);
 else     sections[i]="";
  }
  tempMovies.clear();
  tempMovies=null;
  super.notifyDataSetChanged();
}
