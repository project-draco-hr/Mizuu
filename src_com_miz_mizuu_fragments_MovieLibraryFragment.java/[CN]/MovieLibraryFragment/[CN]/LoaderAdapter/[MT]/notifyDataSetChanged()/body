{
  isCollections=(actionBar.getSelectedNavigationIndex() == 3);
  ArrayList<MediumMovie> tempMovies=new ArrayList<MediumMovie>(shownMovies);
  sections=new Object[tempMovies.size()];
  String SORT_TYPE=settings.getString((getActivity().getActionBar().getSelectedNavigationIndex() == 3) ? SORTING_COLLECTIONS_OVERVIEW : SORTING_MOVIES,"sortTitle");
  if (SORT_TYPE.equals("sortRating")) {
    DecimalFormat df=new DecimalFormat("#.#");
    for (int i=0; i < sections.length; i++)     sections[i]=df.format(tempMovies.get(i).getRawRating());
  }
 else   if (SORT_TYPE.equals("sortWeightedRating")) {
    DecimalFormat df=new DecimalFormat("#.#");
    for (int i=0; i < sections.length; i++)     sections[i]=df.format(tempMovies.get(i).getWeightedRating());
  }
 else   if (SORT_TYPE.equals("sortDuration")) {
    String hour=getResources().getQuantityString(R.plurals.hour,1,1).substring(0,1);
    String minute=getResources().getQuantityString(R.plurals.minute,1,1).substring(0,1);
    for (int i=0; i < sections.length; i++)     sections[i]=MizLib.getRuntimeInMinutesOrHours(tempMovies.get(i).getRuntime(),hour,minute);
  }
 else {
    String temp="";
    for (int i=0; i < sections.length; i++)     if (!MizLib.isEmpty(tempMovies.get(i).getTitle())) {
      temp=tempMovies.get(i).getTitle().substring(0,1);
      if (Character.isLetter(temp.charAt(0)))       sections[i]=tempMovies.get(i).getTitle().substring(0,1);
 else       sections[i]="#";
    }
 else     sections[i]="";
  }
  tempMovies.clear();
  tempMovies=null;
  super.notifyDataSetChanged();
}
