{
  if (isCancelled())   return false;
switch (mPosition) {
case ALL_MOVIES:
    for (int i=0; i < mMovies.size(); i++)     if (!mMovies.get(i).isUnidentified())     mTempKeys.add(i);
  break;
case FAVORITES:
for (int i=0; i < mMovies.size(); i++) if (mMovies.get(i).isFavourite()) mTempKeys.add(i);
break;
case AVAILABLE_FILES:
ArrayList<FileSource> filesources=MizLib.getFileSources(MizLib.TYPE_MOVIE,true);
for (int i=0; i < mMovies.size(); i++) {
if (isCancelled()) return false;
if (mMovies.get(i).isNetworkFile()) if (mMovies.get(i).hasOfflineCopy()) mTempKeys.add(i);
 else {
if (MizLib.isWifiConnected(getActivity(),mDisableEthernetWiFiCheck)) {
FileSource source=null;
for (int j=0; j < filesources.size(); j++) if (mMovies.get(i).getFilepath().contains(filesources.get(j).getFilepath())) {
  source=filesources.get(j);
  continue;
}
if (source == null) continue;
try {
  final SmbFile file=new SmbFile(MizLib.createSmbLoginString(URLEncoder.encode(source.getDomain(),"utf-8"),URLEncoder.encode(source.getUser(),"utf-8"),URLEncoder.encode(source.getPassword(),"utf-8"),mMovies.get(i).getFilepath(),false));
  if (file.exists())   mTempKeys.add(i);
}
 catch (Exception e) {
}
}
}
 else if (mMovies.get(i).isUpnpFile()) if (MizLib.exists(mMovies.get(i).getFilepath())) mTempKeys.add(i);
 else if (new File(mMovies.get(i).getFilepath()).exists()) mTempKeys.add(i);
}
break;
case COLLECTIONS:
HashMap<String,MediumMovie> map=new HashMap<String,MediumMovie>();
for (int i=0; i < mMovies.size(); i++) if (!MizLib.isEmpty(mMovies.get(i).getCollection()) && !mMovies.get(i).getCollection().equals("null")) if (!map.containsKey(mMovies.get(i).getCollection())) {
map.put(mMovies.get(i).getCollection(),mMovies.get(i));
mTempKeys.add(i);
}
map.clear();
break;
case WATCHED_MOVIES:
for (int i=0; i < mMovies.size(); i++) if (mMovies.get(i).hasWatched()) mTempKeys.add(i);
break;
case UNWATCHED_MOVIES:
for (int i=0; i < mMovies.size(); i++) if (!mMovies.get(i).hasWatched()) mTempKeys.add(i);
break;
case UNIDENTIFIED_MOVIES:
for (int i=0; i < mMovies.size(); i++) if (mMovies.get(i).isUnidentified()) mTempKeys.add(i);
break;
case OFFLINE_COPIES:
File offlineFolder=MizuuApplication.getAvailableOfflineFolder(getActivity());
if (offlineFolder != null && offlineFolder.listFiles().length == 0) return true;
for (int i=0; i < mMovies.size(); i++) {
if (isCancelled()) return false;
if (mMovies.get(i).hasOfflineCopy()) mTempKeys.add(i);
}
break;
}
return true;
}
