{
  super.onViewCreated(v,savedInstanceState);
  pbar=(ProgressBar)v.findViewById(R.id.progress);
  if (shownMovies.size() > 0)   pbar.setVisibility(View.GONE);
  overviewMessage=(TextView)v.findViewById(R.id.overviewMessage);
  updateMovieLibrary=(Button)v.findViewById(R.id.addMoviesButton);
  updateMovieLibrary.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      startActivityForResult(getUpdateIntent(),0);
    }
  }
);
  mAdapter=new LoaderAdapter(getActivity());
  mGridView=(GridView)v.findViewById(R.id.gridView);
  mGridView.setFastScrollEnabled(true);
  mGridView.setAdapter(mAdapter);
  mGridView.setColumnWidth(mImageThumbSize);
  mGridView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener(){
    @SuppressWarnings("deprecation") @Override public void onGlobalLayout(){
      if (mAdapter.getNumColumns() == 0) {
        final int numColumns=(int)Math.floor(mGridView.getWidth() / (mImageThumbSize + mImageThumbSpacing));
        if (numColumns > 0) {
          mAdapter.setNumColumns(numColumns);
        }
        if (MizLib.hasJellyBean()) {
          mGridView.getViewTreeObserver().removeOnGlobalLayoutListener(this);
        }
 else {
          mGridView.getViewTreeObserver().removeGlobalOnLayoutListener(this);
        }
      }
    }
  }
);
  mGridView.setOnItemClickListener(new OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> arg0,    View arg1,    int arg2,    long arg3){
      Intent intent=new Intent();
      if (actionBar.getSelectedNavigationIndex() == 3) {
        intent.putExtra("collectionId",shownMovies.get(arg2).getCollectionId());
        intent.putExtra("collectionTitle",shownMovies.get(arg2).getCollection());
        intent.setClass(getActivity(),MovieCollection.class);
        startActivity(intent);
      }
 else {
        intent.putExtra("rowId",Integer.parseInt(shownMovies.get(arg2).getRowId()));
        intent.setClass(getActivity(),MovieDetails.class);
        startActivityForResult(intent,0);
      }
    }
  }
);
}
