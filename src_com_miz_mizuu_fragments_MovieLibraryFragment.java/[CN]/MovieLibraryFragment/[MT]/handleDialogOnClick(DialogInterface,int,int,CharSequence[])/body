{
  if (which > 0) {
    ArrayList<Integer> currentlyShown=new ArrayList<Integer>(mMovieKeys);
    mMovieKeys.clear();
    String selected=temp[which].toString();
    selected=selected.substring(0,selected.lastIndexOf("(")).trim();
    boolean condition;
    for (int i=0; i < currentlyShown.size(); i++) {
      condition=false;
switch (type) {
case GENRES:
        if (mMovies.get(currentlyShown.get(i)).getGenres().contains(selected)) {
          String[] genres=mMovies.get(currentlyShown.get(i)).getGenres().split(",");
          for (          String genre : genres) {
            if (genre.trim().equals(selected)) {
              condition=true;
              break;
            }
          }
        }
      break;
case CERTIFICATION:
    condition=mMovies.get(currentlyShown.get(i)).getCertification().trim().contains(selected);
  break;
case FILE_SOURCES:
for (Filepath path : mMovies.get(currentlyShown.get(i)).getFilepaths()) {
  condition=path.getFilepath().trim().contains(selected);
  if (condition)   break;
}
break;
case FOLDERS:
for (Filepath path : mMovies.get(currentlyShown.get(i)).getFilepaths()) {
condition=path.getFilepath().trim().startsWith(selected);
if (condition) break;
}
break;
}
if (condition) mMovieKeys.add(currentlyShown.get(i));
}
sortMovies();
notifyDataSetChanged();
}
dialog.dismiss();
}
