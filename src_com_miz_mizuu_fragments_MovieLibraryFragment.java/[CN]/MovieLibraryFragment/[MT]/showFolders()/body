{
  final TreeMap<String,Integer> map=new TreeMap<String,Integer>();
  for (int i=0; i < mMovieKeys.size(); i++) {
    String folder=MizLib.getParentFolder(mMovies.get(mMovieKeys.get(i)).getFilepath());
    if (!MizLib.isEmpty(folder)) {
      if (map.containsKey(folder.trim())) {
        map.put(folder.trim(),map.get(folder.trim()) + 1);
      }
 else {
        map.put(folder.trim(),1);
      }
    }
  }
  final CharSequence[] temp=setupItemArray(map,R.string.allFolders);
  AlertDialog.Builder builder=new AlertDialog.Builder(getActivity());
  builder.setTitle(R.string.selectFolder).setItems(temp,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      handleDialogOnClick(dialog,which,FOLDERS,temp);
    }
  }
);
  builder.show();
}
