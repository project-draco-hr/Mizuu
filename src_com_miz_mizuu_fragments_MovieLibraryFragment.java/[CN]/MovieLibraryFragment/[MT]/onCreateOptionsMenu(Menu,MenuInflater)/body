{
  if (((Main)getActivity()).isDrawerOpen()) {
    if (actionBar == null && getActivity() != null)     actionBar=getActivity().getActionBar();
    actionBar.setNavigationMode(ActionBar.DISPLAY_SHOW_TITLE);
    ((Main)getActivity()).showDrawerOptionsMenu(menu,inflater);
  }
 else {
    setupActionBar();
    inflater.inflate(R.menu.menu,menu);
    if (type == OTHER)     menu.removeItem(R.id.update);
    SearchManager searchManager=(SearchManager)getActivity().getSystemService(Context.SEARCH_SERVICE);
    SearchView searchView=(SearchView)menu.findItem(R.id.search_textbox).getActionView();
    searchView.setSearchableInfo(searchManager.getSearchableInfo(getActivity().getComponentName()));
    searchView.setOnQueryTextListener(new OnQueryTextListener(){
      @Override public boolean onQueryTextChange(      String newText){
        if (newText.length() > 0) {
          search(newText);
        }
 else {
          showAllMovies();
        }
        return true;
      }
      @Override public boolean onQueryTextSubmit(      String query){
        return false;
      }
    }
);
  }
  super.onCreateOptionsMenu(menu,inflater);
}
