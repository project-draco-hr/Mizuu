{
  super.onCreate(savedInstanceState);
  setRetainInstance(true);
  deviceListRegistryListener=new DeviceListRegistryListener();
  mType=getArguments().getInt(TYPE,FileSource.FILE);
  if (mType == FileSource.UPNP) {
    deviceListAdapter=new ArrayAdapter<DeviceItem>(getActivity(),android.R.layout.simple_list_item_1);
    contentListAdapter=new ArrayAdapter<ContentItem>(getActivity(),android.R.layout.simple_list_item_1);
  }
  LocalBroadcastManager.getInstance(getActivity()).registerReceiver(mMessageReceiver,new IntentFilter("onBackPressed"));
}
