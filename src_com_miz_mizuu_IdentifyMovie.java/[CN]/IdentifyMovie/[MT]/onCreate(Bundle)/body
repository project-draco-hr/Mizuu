{
  super.onCreate(savedInstanceState);
  getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
  setContentView(R.layout.identify_movie);
  settings=PreferenceManager.getDefaultSharedPreferences(this);
  localizedInfo=settings.getBoolean(USE_LOCALIZED_DATA,false);
  mPicasso=MizuuApplication.getPicasso(this);
  mConfig=MizuuApplication.getBitmapConfig();
  rowId=Long.valueOf(getIntent().getExtras().getString("rowId"));
  filename=getIntent().getExtras().getString("fileName");
  mMovie=MizLib.decryptMovie(filename,settings.getString(IGNORED_FILENAME_TAGS,""));
  locale=Locale.getDefault();
  pbar=(ProgressBar)findViewById(R.id.pbar);
  useSystemLanguage=(CheckBox)findViewById(R.id.searchLanguage);
  useSystemLanguage.setText(getString(R.string.searchIn) + " " + locale.getDisplayLanguage(Locale.ENGLISH));
  if (localizedInfo)   useSystemLanguage.setChecked(true);
  lv=(ListView)findViewById(android.R.id.list);
  lv.setOnItemClickListener(new OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> arg0,    View arg1,    int arg2,    long arg3){
      updateMovie(arg2);
    }
  }
);
  lv.setEmptyView(findViewById(R.id.no_results));
  findViewById(R.id.no_results).setVisibility(View.GONE);
  searchText=(EditText)findViewById(R.id.search);
  searchText.setText(mMovie.getDecryptedFileName());
  searchText.setSelection(searchText.length());
  searchText.setOnEditorActionListener(new OnEditorActionListener(){
    @Override public boolean onEditorAction(    TextView v,    int actionId,    KeyEvent event){
      if (actionId == EditorInfo.IME_NULL && event.getAction() == KeyEvent.ACTION_DOWN || actionId == EditorInfo.IME_ACTION_SEARCH)       searchForMovies();
      return true;
    }
  }
);
  LocalBroadcastManager.getInstance(this).registerReceiver(mMessageReceiver,new IntentFilter("mizuu-movies-identification"));
  startSearch=new StartSearch();
  if (MizLib.isOnline(this)) {
    startSearch.execute(searchText.getText().toString());
  }
 else {
    Toast.makeText(getApplicationContext(),getString(R.string.noInternet),Toast.LENGTH_SHORT).show();
  }
}
