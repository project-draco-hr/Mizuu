{
  super.onViewCreated(v,savedInstanceState);
  if (setBackground && !MizLib.isPortrait(getActivity()))   v.findViewById(R.id.container).setBackgroundResource(R.drawable.bg);
  MizLib.addActionBarPadding(getActivity(),v.findViewById(R.id.container));
  v.findViewById(R.id.progress).setVisibility(View.GONE);
  mAdapter=new ImageAdapter(getActivity());
  mGridView=(GridView)v.findViewById(R.id.gridView);
  mGridView.setAdapter(mAdapter);
  mGridView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener(){
    @Override public void onGlobalLayout(){
      if (mAdapter.getNumColumns() == 0) {
        final int numColumns=(int)Math.floor(mGridView.getWidth() / (mImageThumbSize + mImageThumbSpacing));
        if (numColumns > 0) {
          final int columnWidth=(mGridView.getWidth() / numColumns) - mImageThumbSpacing;
          mAdapter.setNumColumns(numColumns);
          mAdapter.setItemHeight(columnWidth);
        }
      }
    }
  }
);
  mGridView.setOnItemClickListener(new OnItemClickListener(){
    @Override public void onItemClick(    AdapterView<?> arg0,    View arg1,    int arg2,    long arg3){
      String[] photos=new String[pics_sources.size()];
      for (int i=0; i < photos.length; i++)       photos[i]=pics_sources.get(i).replace("w185","original");
      Intent intent=new Intent();
      intent.setClass(getActivity(),ImageViewer.class);
      intent.putExtra("photos",photos);
      intent.putExtra("actorName",getArguments().getString("actorName"));
      intent.putExtra("selectedIndex",arg2);
      startActivity(intent);
    }
  }
);
  loadData();
}
