{
  showProgressBar();
  final String searchQuery=query.toLowerCase(Locale.ENGLISH);
  shownMovies.clear();
  new Thread(){
    @Override public void run(){
      if (searchQuery.startsWith("actor:")) {
        for (int i=0; i < movies.size(); i++) {
          if (movies.get(i).getCast().toLowerCase(Locale.ENGLISH).contains(searchQuery.replace("actor:","").trim()))           shownMovies.add(movies.get(i));
        }
      }
 else {
        for (int i=0; i < movies.size(); i++) {
          if (movies.get(i).getTitle().toLowerCase(Locale.ENGLISH).contains(searchQuery) || movies.get(i).getFilepath().toLowerCase(Locale.ENGLISH).contains(searchQuery))           shownMovies.add(movies.get(i));
        }
      }
      sortMovies();
      getActivity().runOnUiThread(new Runnable(){
        @Override public void run(){
          notifyDataSetChanged();
          hideProgressBar();
        }
      }
);
    }
  }
.start();
}
