{
  super.onViewCreated(view,savedInstanceState);
  if (MizLib.isPortrait(getActivity())) {
    mActionBarBackgroundDrawable=new GradientDrawable(GradientDrawable.Orientation.BOTTOM_TOP,new int[]{0x00000000,0xaa000000});
    getActivity().getActionBar().setBackgroundDrawable(mActionBarBackgroundDrawable);
    ObservableScrollView sv=(ObservableScrollView)view.findViewById(R.id.scrollView1);
    sv.setOnScrollChangedListener(new OnScrollChangedListener(){
      @Override public void onScrollChanged(      ScrollView who,      int l,      int t,      int oldl,      int oldt){
        final int headerHeight=view.findViewById(R.id.imageBackground).getHeight() - getActivity().getActionBar().getHeight();
        final float ratio=(float)Math.min(Math.max(t,0),headerHeight) / headerHeight;
        final int newAlpha=(int)(ratio * 255);
        mActionBarBackgroundDrawable=new GradientDrawable(GradientDrawable.Orientation.BOTTOM_TOP,new int[]{Color.parseColor("#" + ((Integer.toHexString(newAlpha).length() == 1) ? ("0" + Integer.toHexString(newAlpha)) : Integer.toHexString(newAlpha)) + "080808"),(newAlpha >= 170) ? Color.parseColor("#" + Integer.toHexString(newAlpha) + "080808") : 0xaa080808});
        getActivity().getActionBar().setBackgroundDrawable(mActionBarBackgroundDrawable);
      }
    }
);
  }
}
