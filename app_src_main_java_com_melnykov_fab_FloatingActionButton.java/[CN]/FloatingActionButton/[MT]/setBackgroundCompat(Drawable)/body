{
  if (hasLollipopApi()) {
    setElevation(mShadow ? getDimension(R.dimen.fab_elevation_lollipop) : 0.0f);
    RippleDrawable rippleDrawable=new RippleDrawable(new ColorStateList(new int[][]{{}},new int[]{mColorRipple}),drawable,null);
    setOutlineProvider(new ViewOutlineProvider(){
      @Override public void getOutline(      View view,      Outline outline){
        int size=getDimension(mType == TYPE_NORMAL ? R.dimen.fab_size_normal : R.dimen.fab_size_mini);
        outline.setOval(0,0,size,size);
      }
    }
);
    setClipToOutline(true);
    setBackground(rippleDrawable);
  }
 else   if (hasJellyBeanApi()) {
    setBackground(drawable);
  }
 else {
    setBackgroundDrawable(drawable);
  }
}
