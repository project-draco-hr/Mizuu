{
  super.onAttachedToWindow();
  mRunning=true;
  setInteractive(false);
  setFullscreen(true);
  setContentView(R.layout.dream);
  mTitle=(TextView)findViewById(R.id.title);
  mTitle.setTypeface(MizuuApplication.getOrCreateTypeface(this,"RobotoCondensed-Regular.ttf"));
  mDatabaseHelper=MizuuApplication.getMovieAdapter();
  mDatabaseHelperTv=MizuuApplication.getTvDbAdapter();
  File temp=null;
  ColumnIndexCache cache=new ColumnIndexCache();
  Cursor cursor=mDatabaseHelper.fetchAllMovies(DbAdapterMovies.KEY_TITLE + " ASC",false);
  while (cursor.moveToNext()) {
    try {
      temp=MizLib.getMovieBackdrop(this,cursor.getString(cache.getColumnIndex(cursor,DbAdapterMovies.KEY_TMDB_ID)));
      if (temp.exists())       mBackdrops.add(new Backdrop(temp.getAbsolutePath(),cursor.getString(cache.getColumnIndex(cursor,DbAdapterMovies.KEY_TITLE))));
    }
 catch (    NullPointerException e) {
    }
  }
  cursor.close();
  cursor=mDatabaseHelperTv.getAllShows();
  while (cursor.moveToNext()) {
    try {
      temp=MizLib.getTvShowBackdrop(this,cursor.getString(cache.getColumnIndex(cursor,DbAdapterTvShows.KEY_SHOW_ID)));
      if (temp.exists())       mBackdrops.add(new Backdrop(temp.getAbsolutePath(),cursor.getString(cache.getColumnIndex(cursor,DbAdapterTvShows.KEY_SHOW_TITLE))));
    }
 catch (    NullPointerException e) {
    }
  }
  cursor.close();
  cache.clear();
  Collections.shuffle(mBackdrops,new Random(System.nanoTime()));
  if (mBackdrops.size() > 0) {
    mTitle.setText(mBackdrops.get(mIndex).getTitle());
    startAnimatedBackground();
  }
}
