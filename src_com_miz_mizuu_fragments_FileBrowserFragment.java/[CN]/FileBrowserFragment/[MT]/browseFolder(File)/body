{
  if (!isLoading && folder.isDirectory())   new Thread(){
    @Override public void run(){
      getActivity().runOnUiThread(new Runnable(){
        @Override public void run(){
          setLoading(true);
        }
      }
);
      final ArrayList<File> currentFiles=new ArrayList<File>();
      File[] listFiles=folder.listFiles();
      if (listFiles != null)       for (int i=0; i < listFiles.length; i++)       currentFiles.add(listFiles[i]);
      sort(currentFiles);
      showingFiles.clear();
      showingFiles.addAll(currentFiles);
      final ArrayList<File> parentFolders=new ArrayList<File>();
      File parentFile=folder.getParentFile();
      if (parentFile != null) {
        File[] parentList=parentFile.listFiles();
        if (parentList != null)         for (int i=0; i < parentList.length; i++)         if (parentList[i].isDirectory())         parentFolders.add(parentList[i]);
      }
      sort(parentFolders);
      showingParents.clear();
      showingParents.addAll(parentFolders);
      getActivity().runOnUiThread(new Runnable(){
        @Override public void run(){
          ((CurrentFolderAdapter)current.getAdapter()).setFiles(currentFiles);
          current.setSelection(0);
          ((ParentAdapter)parent.getAdapter()).setFiles(parentFolders);
          parent.setSelection(0);
          getActivity().getActionBar().setSubtitle(currentFolder.getAbsolutePath());
          setLoading(false);
        }
      }
);
    }
  }
.start();
}
