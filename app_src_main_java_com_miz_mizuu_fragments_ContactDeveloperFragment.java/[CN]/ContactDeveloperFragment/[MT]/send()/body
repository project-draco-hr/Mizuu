{
  if (!message.getText().toString().isEmpty() && message.getText().toString().length() > 5) {
    try {
      Intent emailIntent=new Intent(android.content.Intent.ACTION_SEND);
      String[] recipients=new String[]{"michell.bak@gmail.com"};
      emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,recipients);
      emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,"Mizuu support");
      emailIntent.putExtra(android.content.Intent.EXTRA_TEXT,"Subject: " + subject.getSelectedItem().toString() + "\n\nMessage:\n"+ message.getText().toString()+ "\n\n"+ deviceDetails.getText().toString());
      emailIntent.setType("plain/text");
      final PackageManager pm=getActivity().getPackageManager();
      final List<ResolveInfo> matches=pm.queryIntentActivities(emailIntent,0);
      ResolveInfo best=null;
      int count=matches.size();
      for (int i=0; i < count; i++) {
        if (matches.get(i).activityInfo.packageName.endsWith(".gm") || matches.get(i).activityInfo.name.toLowerCase(Locale.ENGLISH).contains("gmail"))         best=matches.get(i);
      }
      if (best != null)       emailIntent.setClassName(best.activityInfo.packageName,best.activityInfo.name);
      emailIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
      startActivity(emailIntent);
      Toast.makeText(getActivity(),getString(R.string.launchingGmail),Toast.LENGTH_SHORT).show();
      return;
    }
 catch (    Exception e) {
      Toast.makeText(getActivity(),getString(R.string.failedGmailLaunch),Toast.LENGTH_SHORT).show();
    }
  }
 else {
    try {
      ObjectAnimator animation=ObjectAnimator.ofFloat(message,"translationX",-10f,-5f,0f,5f,10f,5f,0f,-5f,-10f,-5f,0f);
      animation.setDuration(250);
      animation.start();
    }
 catch (    Exception e) {
    }
    Toast.makeText(getActivity(),getString(R.string.enterAMessage),Toast.LENGTH_SHORT).show();
  }
}
