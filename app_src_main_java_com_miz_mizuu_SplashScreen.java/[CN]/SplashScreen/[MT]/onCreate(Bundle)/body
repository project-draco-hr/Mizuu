{
  super.onCreate(savedInstanceState);
  if (!isDeviceCompatible()) {
    Toast.makeText(this,getString(R.string.deviceNotSupported),Toast.LENGTH_LONG).show();
    finish();
    return;
  }
  if (FileUtils.oldDataFolderExists()) {
    Intent moveFiles=new Intent(this,MoveFilesService.class);
    startService(moveFiles);
    finish();
    return;
  }
  SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(this);
  String startup=settings.getString(STARTUP_SELECTION,"1");
  if (settings.getBoolean(USE_ENGLISH_LANGUAGE,false)) {
    Locale locale=new Locale("en");
    Locale.setDefault(locale);
    Configuration config=new Configuration();
    config.locale=locale;
    getBaseContext().getResources().updateConfiguration(config,getBaseContext().getResources().getDisplayMetrics());
  }
  if (settings.getInt(SCHEDULED_UPDATES_MOVIE,ScheduledUpdatesFragment.NOT_ENABLED) == ScheduledUpdatesFragment.AT_LAUNCH)   getApplicationContext().startService(new Intent(getApplicationContext(),MovieLibraryUpdate.class));
  if (settings.getInt(SCHEDULED_UPDATES_TVSHOWS,ScheduledUpdatesFragment.NOT_ENABLED) == ScheduledUpdatesFragment.AT_LAUNCH)   getApplicationContext().startService(new Intent(getApplicationContext(),TvShowsLibraryUpdate.class));
  Intent i=new Intent();
  i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
  if (startup.equals("0")) {
    i.setClass(getApplicationContext(),Welcome.class);
  }
 else {
    i.setClass(getApplicationContext(),Main.class);
  }
  startActivity(i);
  finish();
}
