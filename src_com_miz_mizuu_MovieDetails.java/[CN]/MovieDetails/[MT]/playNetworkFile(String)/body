{
  if (!MizLib.isWifiConnected(getApplicationContext(),mDisableEthernetWiFiCheck)) {
    Toast.makeText(getApplicationContext(),getString(R.string.noConnection),Toast.LENGTH_LONG).show();
    return;
  }
  int bufferSize;
  String buff=PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getString(BUFFER_SIZE,getString(R.string._16kb));
  if (buff.equals(getString(R.string._16kb)))   bufferSize=8192 * 2;
 else   bufferSize=8192;
  final Streamer s=Streamer.getInstance();
  if (s != null)   s.setBufferSize(bufferSize);
 else {
    Toast.makeText(getApplicationContext(),getString(R.string.errorOccured),Toast.LENGTH_SHORT).show();
    return;
  }
  final NtlmPasswordAuthentication auth=MizLib.getAuthFromFilepath(MizLib.TYPE_MOVIE,networkFilepath);
  new Thread(){
    public void run(){
      try {
        final SmbFile file=new SmbFile(MizLib.createSmbLoginString(URLEncoder.encode(auth.getDomain(),"utf-8"),URLEncoder.encode(auth.getUsername(),"utf-8"),URLEncoder.encode(auth.getPassword(),"utf-8"),networkFilepath,false));
        if (networkFilepath.endsWith("VIDEO_TS.IFO"))         s.setStreamSrc(file,MizLib.getDVDFiles(networkFilepath,auth));
 else         s.setStreamSrc(file,MizLib.getSubtitleFiles(networkFilepath,auth));
        runOnUiThread(new Runnable(){
          public void run(){
            try {
              Uri uri=Uri.parse(Streamer.URL + Uri.fromFile(new File(Uri.parse(networkFilepath).getPath())).getEncodedPath());
              mContext.startActivity(MizLib.getVideoIntent(uri,mWildcard,mMovie));
              checkIn();
            }
 catch (            Exception e) {
              try {
                Uri uri=Uri.parse(Streamer.URL + Uri.fromFile(new File(Uri.parse(networkFilepath).getPath())).getEncodedPath());
                mContext.startActivity(MizLib.getVideoIntent(uri,"video/*",mMovie));
                checkIn();
              }
 catch (              Exception e2) {
                Toast.makeText(getApplicationContext(),getString(R.string.noVideoPlayerFound),Toast.LENGTH_LONG).show();
              }
            }
          }
        }
);
      }
 catch (      MalformedURLException e) {
      }
catch (      UnsupportedEncodingException e1) {
      }
    }
  }
.start();
}
