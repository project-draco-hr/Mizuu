{
  super.onCreate(savedInstanceState);
  if (!isDeviceCompatible()) {
    Toast.makeText(this,getString(R.string.deviceNotSupported),Toast.LENGTH_LONG).show();
    finish();
    return;
  }
  if (MizLib.oldDataFolderExists()) {
    Intent moveFiles=new Intent(this,MoveFilesService.class);
    startService(moveFiles);
    finish();
    return;
  }
  SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(this);
  String startup=settings.getString("prefsStartup","1");
  if (settings.getBoolean("prefsUseEnglishLanguage",false)) {
    Locale locale=new Locale("en");
    Locale.setDefault(locale);
    Configuration config=new Configuration();
    config.locale=locale;
    getBaseContext().getResources().updateConfiguration(config,getBaseContext().getResources().getDisplayMetrics());
  }
  boolean rootPref=settings.getBoolean("prefsRootAccess",false);
  if (rootPref) {
    try {
      Runtime.getRuntime().exec("su");
    }
 catch (    IOException e) {
    }
  }
  if (settings.getInt(ScheduledUpdatesFragment.MOVIE_UPDATE_PREF,ScheduledUpdatesFragment.NOT_ENABLED) == ScheduledUpdatesFragment.AT_LAUNCH)   getApplicationContext().startService(new Intent(getApplicationContext(),UpdateMovieService.class));
  if (settings.getInt(ScheduledUpdatesFragment.SHOWS_UPDATE_PREF,ScheduledUpdatesFragment.NOT_ENABLED) == ScheduledUpdatesFragment.AT_LAUNCH)   getApplicationContext().startService(new Intent(getApplicationContext(),UpdateShowsService.class));
  Intent i=new Intent(Intent.ACTION_VIEW);
  i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
  if (startup.equals("0")) {
    i.setClass(getApplicationContext(),Welcome.class);
  }
 else {
    i.setClass(getApplicationContext(),Main.class);
  }
  startActivity(i);
  finish();
  return;
}
