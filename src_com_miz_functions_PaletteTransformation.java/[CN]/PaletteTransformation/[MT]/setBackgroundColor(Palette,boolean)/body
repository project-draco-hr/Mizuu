{
  if (mView == null || mHasSetBackground)   return;
  PaletteItem pi=p.getDarkVibrantColor();
  if (pi == null)   pi=p.getDarkMutedColor();
  if (pi == null)   pi=p.getVibrantColor();
  if (pi != null) {
    if (animate) {
      ObjectAnimator backgroundColorAnimator=ObjectAnimator.ofObject(mView,"backgroundColor",new ArgbEvaluator(),0xFF666666,pi.getRgb());
      backgroundColorAnimator.setDuration(500);
      backgroundColorAnimator.start();
    }
 else {
      mView.setBackgroundColor(pi.getRgb());
    }
  }
  mHasSetBackground=true;
}
