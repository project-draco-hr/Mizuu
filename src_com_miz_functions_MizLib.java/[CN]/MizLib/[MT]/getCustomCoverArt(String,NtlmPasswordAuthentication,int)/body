{
  String parentPath=filepath.substring(0,filepath.lastIndexOf("/"));
  if (!parentPath.endsWith("/"))   parentPath+="/";
  String filename=filepath.substring(0,filepath.lastIndexOf(".")).replace("cd1","").replace("cd2","").replace("part1","").replace("part2","").trim();
  String[] list=MizuuApplication.getCifsFilesList(parentPath);
  if (list == null) {
    SmbFile s=new SmbFile(createSmbLoginString(URLEncoder.encode(auth.getDomain(),"utf-8"),URLEncoder.encode(auth.getUsername(),"utf-8"),URLEncoder.encode(auth.getPassword(),"utf-8"),parentPath,false));
    list=s.list();
    s=null;
    MizuuApplication.putCifsFilesList(parentPath,list);
  }
  String name="", absolutePath="", customCoverArt="";
  if (type == COVER) {
    for (int i=0; i < list.length; i++) {
      name=list[i];
      absolutePath=parentPath + list[i];
      if (name.equalsIgnoreCase("poster.jpg") || name.equalsIgnoreCase("poster.jpeg") || name.equalsIgnoreCase("poster.tbn")|| name.equalsIgnoreCase("folder.jpg")|| name.equalsIgnoreCase("folder.jpeg")|| name.equalsIgnoreCase("folder.tbn")|| name.equalsIgnoreCase("cover.jpg")|| name.equalsIgnoreCase("cover.jpeg")|| name.equalsIgnoreCase("cover.tbn")|| absolutePath.equalsIgnoreCase(filename + ".jpg")|| absolutePath.equalsIgnoreCase(filename + ".jpeg")|| absolutePath.equalsIgnoreCase(filename + ".tbn")) {
        customCoverArt=absolutePath;
        continue;
      }
    }
  }
 else {
    for (int i=0; i < list.length; i++) {
      name=list[i];
      absolutePath=parentPath + list[i];
      if (name.equalsIgnoreCase("fanart.jpeg") || name.equalsIgnoreCase("fanart.tbn") || name.equalsIgnoreCase("banner.jpg")|| name.equalsIgnoreCase("banner.jpeg")|| name.equalsIgnoreCase("banner.tbn")|| name.equalsIgnoreCase("backdrop.jpg")|| name.equalsIgnoreCase("backdrop.jpeg")|| name.equalsIgnoreCase("backdrop.tbn")|| absolutePath.equalsIgnoreCase(filename + "-fanart.jpg")|| absolutePath.equalsIgnoreCase(filename + "-fanart.jpeg")|| absolutePath.equalsIgnoreCase(filename + "-fanart.tbn")|| absolutePath.equalsIgnoreCase(filename + "-banner.jpg")|| absolutePath.equalsIgnoreCase(filename + "-banner.jpeg")|| absolutePath.equalsIgnoreCase(filename + "-banner.tbn")|| absolutePath.equalsIgnoreCase(filename + "-backdrop.jpg")|| absolutePath.equalsIgnoreCase(filename + "-backdrop.jpeg")|| absolutePath.equalsIgnoreCase(filename + "-backdrop.tbn")) {
        customCoverArt=absolutePath;
        continue;
      }
    }
  }
  list=null;
  if (!customCoverArt.isEmpty())   return new SmbFile(createSmbLoginString(URLEncoder.encode(auth.getDomain(),"utf-8"),URLEncoder.encode(auth.getUsername(),"utf-8"),URLEncoder.encode(auth.getPassword(),"utf-8"),customCoverArt,false));
  return null;
}
