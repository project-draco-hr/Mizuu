{
  int year, month, day;
  try {
    year=Integer.valueOf(release.getText().toString().substring(0,release.getText().toString().indexOf("-")));
  }
 catch (  Exception e) {
    year=Calendar.getInstance().get(Calendar.YEAR);
  }
  try {
    month=Integer.valueOf(release.getText().toString().substring(release.getText().toString().indexOf("-") + 1,release.getText().toString().lastIndexOf("-"))) - 1;
  }
 catch (  Exception e) {
    month=Calendar.getInstance().get(Calendar.MONTH);
  }
  try {
    day=Integer.valueOf(release.getText().toString().substring(release.getText().toString().lastIndexOf("-") + 1));
  }
 catch (  Exception e) {
    day=Calendar.getInstance().get(Calendar.DATE);
  }
  DatePickerDialog date=new DatePickerDialog(this,new DatePickerDialog.OnDateSetListener(){
    public void onDateSet(    DatePicker view,    int year,    int monthOfYear,    int dayOfMonth){
      String day=String.valueOf(dayOfMonth), month=String.valueOf(monthOfYear + 1);
      if (day.length() == 1)       day="0" + day;
      if (month.length() == 1)       month="0" + month;
      release.setText(year + "-" + month+ "-"+ day);
    }
  }
,year,month,day);
  date.show();
}
