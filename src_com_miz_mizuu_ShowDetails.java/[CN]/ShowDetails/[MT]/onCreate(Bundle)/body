{
  super.onCreate(savedInstanceState);
  if (!MizLib.runsInPortraitMode(this))   setTheme(R.style.Theme_Example_NoBackGround);
  if (!MizLib.runsInPortraitMode(this))   getWindow().requestFeature(Window.FEATURE_ACTION_BAR_OVERLAY);
  setContentView(R.layout.viewpager);
  actionBar=getActionBar();
  awesomePager=(ViewPager)findViewById(R.id.awesomepager);
  awesomePager.setOffscreenPageLimit(3);
  awesomePager.setAdapter(new ShowDetailsAdapter(getSupportFragmentManager()));
  final ActionBar bar=getActionBar();
  bar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
  bar.addTab(bar.newTab().setText(getString(R.string.overview)).setTabListener(this));
  bar.addTab(bar.newTab().setText(getString(R.string.episodes)).setTabListener(this));
  bar.addTab(bar.newTab().setText(getString(R.string.detailsActors)).setTabListener(this));
  awesomePager.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener(){
    @Override public void onPageSelected(    int position){
      bar.getTabAt(position).select();
      ViewParent root=findViewById(android.R.id.content).getParent();
      MizLib.findAndUpdateSpinner(root,position);
      invalidateOptionsMenu();
    }
  }
);
  if (savedInstanceState != null) {
    bar.setSelectedNavigationItem(savedInstanceState.getInt("tab",0));
  }
  ignorePrefixes=PreferenceManager.getDefaultSharedPreferences(this).getBoolean("prefsIgnorePrefixesInTitles",false);
  dbHelper=MizuuApplication.getTvDbAdapter();
  Cursor cursor=dbHelper.getShow(getIntent().getExtras().getString("showId"));
  while (cursor.moveToNext()) {
    thisShow=new TvShow(this,cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_ID)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_TITLE)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_PLOT)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_RATING)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_GENRES)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_ACTORS)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_CERTIFICATION)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_FIRST_AIRDATE)),cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_RUNTIME)),ignorePrefixes,cursor.getString(cursor.getColumnIndex(DbAdapterTvShow.KEY_SHOW_EXTRA1)));
  }
  cursor.close();
  if (thisShow == null)   finish();
  try {
    setTitle(thisShow.getTitle());
    actionBar.setSubtitle(thisShow.getFirstAirdateYear());
  }
 catch (  Exception e) {
    finish();
  }
  if (!PreferenceManager.getDefaultSharedPreferences(this).getString("prefsTvShowsStartPage",getString(R.string.showDetails)).equals(getString(R.string.showDetails)))   awesomePager.setCurrentItem(1);
}
