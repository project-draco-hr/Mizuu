{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.viewpager);
  tmdbId=getIntent().getExtras().getString("tmdbId");
  collectionId=getIntent().getExtras().getString("collectionId");
  pbar=(ProgressBar)findViewById(R.id.progressbar);
  pbar.setVisibility(View.VISIBLE);
  awesomePager=(ViewPager)findViewById(R.id.awesomepager);
  awesomePager.setOffscreenPageLimit(2);
  awesomePager.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener(){
    @Override public void onPageSelected(    int position){
      actionBar.setSelectedNavigationItem(position);
    }
  }
);
  if (savedInstanceState != null) {
    json=savedInstanceState.getString("json","");
    baseUrl=savedInstanceState.getString("baseUrl");
    collection=savedInstanceState.getString("collection");
    setupActionBarStuff();
    awesomePager.setCurrentItem(savedInstanceState.getInt("tab",0));
  }
 else {
    new MovieLoader().execute(tmdbId,collectionId);
  }
}
