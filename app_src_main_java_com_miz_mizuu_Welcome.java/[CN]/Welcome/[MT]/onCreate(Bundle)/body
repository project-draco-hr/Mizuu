{
  supportRequestWindowFeature(Window.FEATURE_NO_TITLE);
  getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
  setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);
  getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LOW_PROFILE | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);
  super.onCreate(savedInstanceState);
  mAnimationIn=AnimationUtils.loadAnimation(this,android.R.anim.fade_in);
  mAnimationIn.setDuration(500);
  mAnimationOut=AnimationUtils.loadAnimation(this,android.R.anim.fade_out);
  mAnimationOut.setDuration(500);
  updateLibraryCounts();
  mImageCover=(ImageSwitcher)findViewById(R.id.imageCover);
  mImageCover.setInAnimation(mAnimationIn);
  mImageCover.setOutAnimation(mAnimationOut);
  mImageCover.setFactory(new ViewFactory(){
    @Override public View makeView(){
      ImageView imageView=new ImageView(getApplicationContext());
      imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
      imageView.setLayoutParams(new ImageSwitcher.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT));
      return imageView;
    }
  }
);
  title=(TextSwitcher)findViewById(R.id.title);
  title.setInAnimation(mAnimationIn);
  title.setOutAnimation(mAnimationOut);
  title.setFactory(new ViewFactory(){
    @Override public View makeView(){
      TextView tv=new TextView(getApplicationContext());
      tv.setTextAppearance(getApplicationContext(),android.R.style.TextAppearance_Large);
      tv.setShadowLayer(1f,0,0,Color.BLACK);
      tv.setTextIsSelectable(false);
      tv.setGravity(Gravity.RIGHT);
      tv.setTypeface(TypefaceUtils.getRobotoCondensedRegular(getApplicationContext()));
      tv.setLayoutParams(new TextSwitcher.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT));
      return tv;
    }
  }
);
  mImageSwitcher=(ImageSwitcher)findViewById(R.id.imageSwitcher1);
  if (!MizLib.usesNavigationControl(getApplicationContext()))   mImageCover.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      Pair<View,String> pair=new Pair<>(findViewById(R.id.cardview),"cover");
      ActivityOptionsCompat options=ActivityOptionsCompat.makeSceneTransitionAnimation(Welcome.this,pair);
      ActivityCompat.startActivityForResult(Welcome.this,mItems.get(index).getIntent(getApplicationContext()),0,options.toBundle());
    }
  }
);
  mImageSwitcher.setInAnimation(mAnimationIn);
  mImageSwitcher.setOutAnimation(mAnimationOut);
  mImageSwitcher.setFactory(new ViewFactory(){
    @Override public View makeView(){
      ImageView imageView=new ImageView(getApplicationContext());
      imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
      imageView.setLayoutParams(new ImageSwitcher.LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT));
      return imageView;
    }
  }
);
  new WelcomeLoader(getApplicationContext()).execute();
}
