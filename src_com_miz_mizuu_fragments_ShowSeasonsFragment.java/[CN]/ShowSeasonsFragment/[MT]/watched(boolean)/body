{
  DbAdapterTvShowEpisode db=MizuuApplication.getTvEpisodeDbAdapter();
  shownEpisodes.get(selectedEpisodeIndex).setHasWatched(!shownEpisodes.get(selectedEpisodeIndex).hasWatched());
  if (db.updateSingleItem(Long.valueOf(shownEpisodes.get(selectedEpisodeIndex).getRowId()),DbAdapterTvShowEpisode.KEY_HAS_WATCHED,shownEpisodes.get(selectedEpisodeIndex).getHasWatched())) {
    if (showToast)     if (shownEpisodes.get(selectedEpisodeIndex).hasWatched()) {
      Toast.makeText(getActivity(),getString(R.string.markedAsWatched),Toast.LENGTH_SHORT).show();
    }
 else {
      Toast.makeText(getActivity(),getString(R.string.markedAsUnwatched),Toast.LENGTH_SHORT).show();
    }
    notifyDataSetChanged(true);
  }
 else {
    if (showToast)     Toast.makeText(getActivity(),getString(R.string.errorOccured),Toast.LENGTH_SHORT).show();
  }
  new Thread(){
    @Override public void run(){
      ArrayList<TvShowEpisode> episode=new ArrayList<TvShowEpisode>();
      episode.add(shownEpisodes.get(selectedEpisodeIndex));
      MizLib.markEpisodeAsWatched(episode,getActivity());
    }
  }
.start();
}
