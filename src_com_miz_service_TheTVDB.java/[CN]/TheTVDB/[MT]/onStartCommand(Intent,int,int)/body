{
  super.onStartCommand(intent,flags,startId);
  final Bundle bundle=intent.getExtras();
  files=bundle.getStringArray("files");
  rowsToDrop=bundle.getStringArray("rowsToDrop");
  isEpisodeIdentify=bundle.getBoolean("isEpisodeIdentify",false);
  isShowIdentify=bundle.getBoolean("isShowIdentify",false);
  isUnidentifiedIdentify=bundle.getBoolean("isUnidentifiedIdentify",false);
  isUpdate=bundle.getBoolean("isUpdate",false);
  rowId=bundle.getLong("rowId",0);
  language=bundle.getString("language","");
  for (int i=0; i < files.length; i++)   queue.add(files[i]);
  setup();
  new Thread(){
    @Override public void run(){
      tvdb=new TheTVDb(getApplicationContext());
      if (isUpdate) {
        thisShow=tvdb.searchForShow(MizLib.decryptEpisode(files[0],PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getString(IGNORED_FILENAME_TAGS,"")),LOCALE);
        createShow("","");
      }
 else       if (isUnidentifiedIdentify) {
        thisShow=tvdb.getShow(bundle.getString("tvdbId"),LOCALE);
        if (rowsToDrop != null) {
          DbAdapterTvShowEpisode db=MizuuApplication.getTvEpisodeDbAdapter();
          for (int i=0; i < rowsToDrop.length; i++)           db.deleteEpisode(rowsToDrop[i]);
          createShow("","");
        }
 else {
          createShow(bundle.getString("season"),bundle.getString("episode"));
        }
      }
 else       if (isEpisodeIdentify) {
        thisShow=tvdb.getShow(bundle.getString("tvdbId"),LOCALE);
        loadNextEpisode(bundle.getString("season"),bundle.getString("episode"));
      }
 else       if (isShowIdentify) {
        TvShow temp=new TvShow(getApplicationContext(),bundle.getString("oldShowId"),"","","","","","","","",false,"0");
        MizLib.deleteShow(getApplicationContext(),temp,false);
        thisShow=tvdb.getShow(bundle.getString("tvdbId"),LOCALE);
        createShow("","");
      }
    }
  }
.start();
  return Service.START_NOT_STICKY;
}
