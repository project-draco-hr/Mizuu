{
  ArrayList<DbMovie> dbMovies=new ArrayList<DbMovie>();
  DbAdapter db=MizuuApplication.getMovieAdapter();
  Cursor tempCursor=db.fetchAllMovies(DbAdapter.KEY_TITLE + " ASC",ignoreRemovedFiles);
  while (tempCursor.moveToNext()) {
    try {
      dbMovies.add(new DbMovie(tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_FILEPATH)),tempCursor.getLong(tempCursor.getColumnIndex(DbAdapter.KEY_ROWID)),tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_TMDBID)),tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_RUNTIME)),tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_RELEASEDATE)),tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_GENRES)),tempCursor.getString(tempCursor.getColumnIndex(DbAdapter.KEY_TITLE))));
    }
 catch (    NullPointerException e) {
    }
  }
  tempCursor.close();
  ArrayList<FileSource> filesources=MizLib.getFileSources(MizLib.TYPE_MOVIE,true);
  for (int i=0; i < dbMovies.size(); i++) {
    if (dbMovies.get(i).isNetworkFile()) {
      if (MizLib.isWifiConnected(getApplicationContext(),prefsDisableEthernetWiFiCheck)) {
        FileSource source=null;
        for (int j=0; j < filesources.size(); j++)         if (dbMovies.get(i).getFilepath().contains(filesources.get(j).getFilepath())) {
          source=filesources.get(j);
          continue;
        }
        if (source == null) {
          if (dbMovies.get(i).isUnidentified()) {
            db.deleteMovie(dbMovies.get(i).getRowId());
          }
          continue;
        }
        try {
          final SmbFile file=new SmbFile(MizLib.createSmbLoginString(URLEncoder.encode(source.getDomain(),"utf-8"),URLEncoder.encode(source.getUser(),"utf-8"),URLEncoder.encode(source.getPassword(),"utf-8"),dbMovies.get(i).getFilepath(),false));
          if (file.exists()) {
            if (dbMovies.get(i).isUnidentified()) {
              db.deleteMovie(dbMovies.get(i).getRowId());
            }
          }
        }
 catch (        Exception e) {
        }
      }
    }
 else {
      if (new File(dbMovies.get(i).getFilepath()).exists()) {
        if (dbMovies.get(i).isUnidentified()) {
          db.deleteMovie(dbMovies.get(i).getRowId());
        }
      }
    }
  }
  dbMovies.clear();
  filesources.clear();
}
